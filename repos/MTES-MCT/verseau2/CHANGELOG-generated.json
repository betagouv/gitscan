## Changelog : verseau2 (30 derniers jours)

### Résumé
Les dernières mises à jour de Verseau2 se concentrent sur l'amélioration de la robustesse, l'ajout de nouvelles fonctionnalités pour les administrateurs et les utilisateurs experts, ainsi que l'optimisation des performances et des tests. Des contrôles de conformité supplémentaires ont été implémentés, et l'interface utilisateur a été améliorée pour une meilleure expérience.

### Évolutions fonctionnelles
- Ajout d'un accès administrateur pour les "expert national verseau" permettant le téléchargement de fichiers XML (#18).
- Implémentation de l'envoi d'un fichier "acknowledge" après le transfert du XML (#17).
- Ajout d'indicateurs pour les stations liées à l'utilisateur avec pagination et année de référence (#9).
- Amélioration de la gestion des droits d'accès utilisateur et ajout de l'intervenant dans l'objet utilisateur authentifié (#8).
- Normalisation des emails reçus de Cerbere en les convertissant en minuscules.
- Ajout d'icônes aux contrôles Sandre dans l'interface utilisateur.
- Amélioration de la structure des titres et ajout de séparateurs sur la page des contrôles.
- Ajout du contrôle CBPO (054).

### Évolutions techniques
- Refactorisation de la gestion des logs avec l'utilisation de `LoggerService` et l'ajout de décorateurs `TraceCalls` pour le suivi des appels de méthode.
- Amélioration des performances des requêtes d'indicateurs.
- Optimisation de la pool de connexions PostgreSQL pour faciliter le scaling.
- Ajout d'index sur certaines colonnes de la base de données.
- Mise à jour des dépendances vulnérables (#3b862cb).
- Utilisation d'une librairie commune non orientée domaine pour partager du code entre le backend et le frontend.
- Suppression du `correlation id` dans `traceCalls`.
- Passage du service logger à Transient pour éviter des problèmes de retry.
- Mutualisation des mocks et des datasets pour les tests.
- Ajout de tests E2E pour l'API et le worker, avec amélioration du seeding des droits utilisateurs.
- Correction d'une race condition potentielle lors de la mise à jour d'un dépôt.

### Autres changements
- Ajout de la documentation AGENTS.md adaptée à une structure en trois couches.
- Correction de bugs mineurs et améliorations de la structure du code.
- Ajout de vérification du contenu du dump avant la restauration.
- Correction d'erreurs de typage et de résolution de dépendances.
- Amélioration des messages d'erreur et des logs.
- Correction de problèmes liés à l'envoi d'emails en cas d'erreur.
- Suppression de throw pour éviter un retry de la file.
- Correction d'un bug lié à l'affichage des caractères spéciaux dans les noms de fichiers.
- Correction d'un test qui échouait depuis le passage à Transient du LoggerService.
- Ajout de tests unitaires et d'intégration pour couvrir davantage de cas d'utilisation.
- Correction de problèmes de timeout dans les tests.
- Ajout de skills pour la documentation.
