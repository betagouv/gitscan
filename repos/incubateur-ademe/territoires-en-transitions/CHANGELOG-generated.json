## Changelog : territoires-en-transitions (30 derniers jours)

**Résumé**

Cette période a été marquée par d'importantes améliorations de l'interface utilisateur, notamment une refonte de l'affichage des plans et des axes, avec l'introduction de l'édition en ligne et de nouvelles fonctionnalités de gestion des sous-actions. Des corrections de bugs et des optimisations de performance ont également été apportées, ainsi que des améliorations de la sécurité et de la gestion des permissions. Enfin, la génération de rapports a été améliorée avec l'utilisation de workers et le stockage des rapports générés.

### Évolutions fonctionnelles

- Ajout de la gestion des sous-actions : création, modification, suppression et affichage dans le tableau de bord personnel.
- Refonte de l'affichage des plans : nouvelle arborescence, édition en ligne des titres, descriptions et types de plans.
- Amélioration de l'édition en ligne : intégration dans les headers, sections "Acteurs du projet" et descriptions des fiches actions.
- Ajout de boutons "Ouvrir/fermer tous les axes/sous-axes" pour faciliter la navigation dans les plans.
- Ajout d'un bouton "Déplacer" dans le menu d'édition d'un axe pour réorganiser la structure du plan.
- Amélioration de l'affichage des budgets agrégés dans le détail d'un plan.
- Ajout de la possibilité de masquer des colonnes dans le tableau des sous-actions.
- Ajout d'un compteur de documents.
- Amélioration de la génération de rapports : utilisation de workers pour une meilleure performance et stockage des rapports générés.
- Ajout d'une notification lors de l'ajout ou de l'invitation d'un nouveau membre de la collectivité.
- Possibilité de supprimer une date de fin dans le tableau des sous-actions.
- Amélioration de l'historique en mode visite.

### Évolutions techniques

- Mise à jour de Next.js, Vite et Nx.
- Migration vers React 19.
- Simplification du modèle de rôles et permissions.
- Refactoring de l'import de plan.
- Suppression de `drizzle-zod`.
- Utilisation de tRPC pour la sauvegarde des actions statuts et des preuves de labellisation.
- Migration des filtres de la page des collectivités sur nuqs.
- Suppression de Datadog Logs et activation de Sentry Logs.
- Amélioration de la gestion des types et des erreurs.
- Utilisation de Turbopack pour les builds en production.
- Upgrade de Storybook à la version 10.
- Refonte de l'implémentation des Context/Provider.
- Remplacement de `luxon` par des alternatives plus performantes.
- Utilisation de `echarts` pour les graphiques.
- Suppression du CSS DSFR et remplacement par des composants personnalisés.
- Amélioration de la gestion des permissions et des accès.

### Autres changements

- Ajout de tests e2e pour les nouvelles fonctionnalités.
- Correction de bugs et amélioration de la stabilité de l'application.
- Mise à jour de la documentation.
- Amélioration de la gestion des notifications "toast".
- Correction de problèmes de typage.
- Amélioration de la performance de l'application.
- Suppression de code inutilisé.
- Mise à jour des dépendances.
- Ajout de commentaires et de documentation pour faciliter la maintenance du code.
- Correction de problèmes de build.
- Amélioration de la configuration de l'environnement de développement.
- Ajout d'une whitelist pour l'envoi d'emails depuis la staging.
- Correction de la règle de linter.
- Mise à jour de la version de Supabase.
